<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create Database and Table</title>
</head>
<body>

<h2>Create Database</h2>

<form id="createDatabaseForm" action="createDatabase.php" method="post">
  <label for="dbName">Enter Database Name:</label>
  <input type="text" id="dbName" name="dbName" required><br><br>
  
  <button type="submit">Create Database</button>
</form>

<h2>Add Table</h2>

<form id="addTableForm" action="createTable.php" method="post">
  <label for="dbName">Enter Database Name:</label>
  <input type="text" id="dbName" name="dbName" required><br><br>
  
  <label for="tableName">Enter Table Name:</label>
  <input type="text" id="tableName" name="tableName" required><br><br>
  
  <label for="numColumns">Enter Number of Columns:</label>
  <input type="number" id="numColumns" name="numColumns" min="1" required><br><br>
  
  <div id="columnsInput"></div>
  
  <button id="addTableButton" type="submit">Add Table</button>
</form>

<script>
var tableFormSubmitted = false; // Flag to track if table form is submitted

document.getElementById("addTableForm").onsubmit = function(event) {
  if (tableFormSubmitted) return; // If form already submitted, do nothing
  
  event.preventDefault(); // Prevent default form submission
  
  // Get values from the form
  var dbName = document.getElementById("dbName").value;
  var tableName = document.getElementById("tableName").value;
  var numColumns = parseInt(document.getElementById("numColumns").value, 10);
  
  // Create input fields for column names
  var columnsInput = document.getElementById("columnsInput");
  columnsInput.innerHTML = ""; // Clear previous inputs
  
  for (var i = 1; i <= numColumns; i++) {
    var label = document.createElement("label");
    label.for = "column" + i;
    label.textContent = "Column " + i + " Name:";
    
    var input = document.createElement("input");
    input.type = "text";
    input.id = "column" + i;
    input.name = "column" + i;
    input.required = true;
    
    columnsInput.appendChild(label);
    columnsInput.appendChild(input);
    columnsInput.appendChild(document.createElement("br"));
  }
  
  tableFormSubmitted = true; // Set flag to true after first submission
  document.getElementById("addTableButton").textContent = "Create Table"; // Change button text
};
</script>

</body>
</html>
